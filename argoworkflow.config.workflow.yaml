#######################################################################
apiVersion: argoproj.io/v2.4.3
kind: Workflow 
metadata:
  generateName: argo-dynamically-generated-workflow-hardcodedartifacts 
spec:
  entrypoint: argo-dynamically-generated-workflow-hardcodedartifacts          
  templates:
#####################BWA MEM Invoked Template##########################
### The order of variables in this file may not be changed ############
  - name: bwa-mem-001-1             
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid 
      - name: gender
      artifacts:
      - name: fastq1
        path: /tmp/fastq1.fq            
      - name: fastq2
        path: /tmp/fastq2.fq 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fai
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2 
      command: [sh, -c]  
      args: ["
      cd /tmp;
      /usr/gitc/bwa mem -v 3 -t 31 -M 
       reference.fasta fastq1.fq fastq2.fq | 
       /usr/local/bin/samtools view -b -S -h - -o /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam ; 
      /usr/local/bin/samtools sort /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam > /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam ;
      /usr/local/bin/samtools index -b /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai"]      
      resources:               
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory : 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200           
    outputs:
      parameters:
      - name: sampleid-001-1 
        globalName: global-sampleid-001-1       
        valueFrom:
         path: /tmp/sampleid
      - name: laneid-001-1
        globalName: global-laneid-001-1
        valueFrom:
         path: /tmp/laneid   
      - name: gender
        globalName: global-gender       
        valueFrom:
         path: /tmp/gender    
      artifacts:
      - name:  bwamem-alignedreads-bam-001-1
        globalName:  global-bwamemalignedreads-bam-001-1       
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  bwamem-alignedreads-bai-001-1
        globalName:  global-bwamem-alignedreads-bai-001-1        
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey
#######################################################################
#####################BWA MEM Invoked Template##########################
### The order of variables in this file may not be changed ############
  - name: bwa-mem-001-2             
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid 
      - name: gender
      artifacts:
      - name: fastq1
        path: /tmp/fastq1.fq            
      - name: fastq2
        path: /tmp/fastq2.fq 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fai
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2 
      command: [sh, -c]  
      args: ["
      cd /tmp;
      /usr/gitc/bwa mem -v 3 -t 31 -M 
       reference.fasta fastq1.fq fastq2.fq | 
       /usr/local/bin/samtools view -b -S -h - -o /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam ; 
      /usr/local/bin/samtools sort /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam > /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam ;
      /usr/local/bin/samtools index -b /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai"]      
      resources:               
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory : 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200           
    outputs:
      parameters:
      - name: sampleid-001-2 
        globalName: global-sampleid-001-2       
        valueFrom:
         path: /tmp/sampleid
      - name: laneid-001-2
        globalName: global-laneid-001-2
        valueFrom:
         path: /tmp/laneid   
      - name: gender
        globalName: global-gender       
        valueFrom:
         path: /tmp/gender    
      artifacts:
      - name:  bwamem-alignedreads-bam-001-2
        globalName:  global-bwamemalignedreads-bam-001-2       
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  bwamem-alignedreads-bai-001-2
        globalName:  global-bwamem-alignedreads-bai-001-2        
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey
#######################################################################
#####################BWA MEM Invoked Template##########################
### The order of variables in this file may not be changed ############
  - name: bwa-mem-001-3             
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid 
      - name: gender
      artifacts:
      - name: fastq1
        path: /tmp/fastq1.fq            
      - name: fastq2
        path: /tmp/fastq2.fq 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fai
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2 
      command: [sh, -c]  
      args: ["
      cd /tmp;
      /usr/gitc/bwa mem -v 3 -t 31 -M 
       reference.fasta fastq1.fq fastq2.fq | 
       /usr/local/bin/samtools view -b -S -h - -o /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam ; 
      /usr/local/bin/samtools sort /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam > /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam ;
      /usr/local/bin/samtools index -b /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai"]      
      resources:               
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory : 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200           
    outputs:
      parameters:
      - name: sampleid-001-3 
        globalName: global-sampleid-001-3       
        valueFrom:
         path: /tmp/sampleid
      - name: laneid-001-3
        globalName: global-laneid-001-3
        valueFrom:
         path: /tmp/laneid   
      - name: gender
        globalName: global-gender       
        valueFrom:
         path: /tmp/gender    
      artifacts:
      - name:  bwamem-alignedreads-bam-001-3
        globalName:  global-bwamemalignedreads-bam-001-3       
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  bwamem-alignedreads-bai-001-3
        globalName:  global-bwamem-alignedreads-bai-001-3        
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey
#######################################################################
#####################BWA MEM Invoked Template##########################
### The order of variables in this file may not be changed ############
  - name: bwa-mem-001-4             
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid 
      - name: gender
      artifacts:
      - name: fastq1
        path: /tmp/fastq1.fq            
      - name: fastq2
        path: /tmp/fastq2.fq 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fai
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2 
      command: [sh, -c]  
      args: ["
      cd /tmp;
      /usr/gitc/bwa mem -v 3 -t 31 -M 
       reference.fasta fastq1.fq fastq2.fq | 
       /usr/local/bin/samtools view -b -S -h - -o /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam ; 
      /usr/local/bin/samtools sort /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam > /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam ;
      /usr/local/bin/samtools index -b /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam /tmp/sortedalignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai"]      
      resources:               
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory : 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200           
    outputs:
      parameters:
      - name: sampleid-001-4 
        globalName: global-sampleid-001-4       
        valueFrom:
         path: /tmp/sampleid
      - name: laneid-001-4
        globalName: global-laneid-001-4
        valueFrom:
         path: /tmp/laneid   
      - name: gender
        globalName: global-gender       
        valueFrom:
         path: /tmp/gender    
      artifacts:
      - name:  bwamem-alignedreads-bam-001-4
        globalName:  global-bwamemalignedreads-bam-001-4       
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  bwamem-alignedreads-bai-001-4
        globalName:  global-bwamem-alignedreads-bai-001-4        
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey
#######################################################################
####################################################################### 
  - name: sort-by-queryname-001-1              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid    
      artifacts:
      - name:  bwamem-alignedreads-bam-001-1
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
      - name:  bwamem-alignedreads-bai-001-1
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c] 
      args: ["
      /usr/bin/java -Xms1g -Xmx4g -jar /usr/gitc/picard.jar SortSam 
      INPUT=alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam OUTPUT=/tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
      SORT_ORDER=\"queryname\" CREATE_MD5_FILE=true CREATE_INDEX=true TMP_DIR=`pwd`/tmp 2>/tmp/querynamesort.log;"]
      resources:               
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200                
    outputs:
      parameters:
      - name: sampleid-001-1 
        globalName: global-sampleid-001-1
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-1 
        globalName: global-laneid-001-1
        valueFrom:
          path: /tmp/laneid     
      artifacts:
      - name: querynamesort-logfile-001-1
        globalName:  global-querynamesort-logfile-001-1      
        path: /tmp/querynamesort.log
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.querynamesort.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  querynamesort-alignedreads-bam-001-1
        globalName:  global-querynamesort-alignedreads-bam-001-1       
        path: /tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam        
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  querynamesort-alignedreads-bai-001-1
        globalName:  global-querynamesort-alignedreads-bai-001-1        
        path: /tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai             
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
#######################################################################
####################################################################### 
  - name: sort-by-queryname-001-2              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid    
      artifacts:
      - name:  bwamem-alignedreads-bam-001-2
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
      - name:  bwamem-alignedreads-bai-001-2
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c] 
      args: ["
      /usr/bin/java -Xms1g -Xmx4g -jar /usr/gitc/picard.jar SortSam 
      INPUT=alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam OUTPUT=/tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
      SORT_ORDER=\"queryname\" CREATE_MD5_FILE=true CREATE_INDEX=true TMP_DIR=`pwd`/tmp 2>/tmp/querynamesort.log;"]
      resources:               
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200                
    outputs:
      parameters:
      - name: sampleid-001-2 
        globalName: global-sampleid-001-2
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-2 
        globalName: global-laneid-001-2
        valueFrom:
          path: /tmp/laneid     
      artifacts:
      - name: querynamesort-logfile-001-2
        globalName:  global-querynamesort-logfile-001-2      
        path: /tmp/querynamesort.log
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.querynamesort.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  querynamesort-alignedreads-bam-001-2
        globalName:  global-querynamesort-alignedreads-bam-001-2       
        path: /tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam        
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  querynamesort-alignedreads-bai-001-2
        globalName:  global-querynamesort-alignedreads-bai-001-2        
        path: /tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai             
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
#######################################################################
####################################################################### 
  - name: sort-by-queryname-001-3              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid    
      artifacts:
      - name:  bwamem-alignedreads-bam-001-3
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
      - name:  bwamem-alignedreads-bai-001-3
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c] 
      args: ["
      /usr/bin/java -Xms1g -Xmx4g -jar /usr/gitc/picard.jar SortSam 
      INPUT=alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam OUTPUT=/tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
      SORT_ORDER=\"queryname\" CREATE_MD5_FILE=true CREATE_INDEX=true TMP_DIR=`pwd`/tmp 2>/tmp/querynamesort.log;"]
      resources:               
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200                
    outputs:
      parameters:
      - name: sampleid-001-3 
        globalName: global-sampleid-001-3
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-3 
        globalName: global-laneid-001-3
        valueFrom:
          path: /tmp/laneid     
      artifacts:
      - name: querynamesort-logfile-001-3
        globalName:  global-querynamesort-logfile-001-3      
        path: /tmp/querynamesort.log
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.querynamesort.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  querynamesort-alignedreads-bam-001-3
        globalName:  global-querynamesort-alignedreads-bam-001-3       
        path: /tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam        
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  querynamesort-alignedreads-bai-001-3
        globalName:  global-querynamesort-alignedreads-bai-001-3        
        path: /tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai             
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
#######################################################################
####################################################################### 
  - name: sort-by-queryname-001-4              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid    
      artifacts:
      - name:  bwamem-alignedreads-bam-001-4
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
      - name:  bwamem-alignedreads-bai-001-4
        path: /tmp/alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c] 
      args: ["
      /usr/bin/java -Xms1g -Xmx4g -jar /usr/gitc/picard.jar SortSam 
      INPUT=alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam OUTPUT=/tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
      SORT_ORDER=\"queryname\" CREATE_MD5_FILE=true CREATE_INDEX=true TMP_DIR=`pwd`/tmp 2>/tmp/querynamesort.log;"]
      resources:               
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200                
    outputs:
      parameters:
      - name: sampleid-001-4 
        globalName: global-sampleid-001-4
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-4 
        globalName: global-laneid-001-4
        valueFrom:
          path: /tmp/laneid     
      artifacts:
      - name: querynamesort-logfile-001-4
        globalName:  global-querynamesort-logfile-001-4      
        path: /tmp/querynamesort.log
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.querynamesort.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  querynamesort-alignedreads-bam-001-4
        globalName:  global-querynamesort-alignedreads-bam-001-4       
        path: /tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam        
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  querynamesort-alignedreads-bai-001-4
        globalName:  global-querynamesort-alignedreads-bai-001-4        
        path: /tmp/querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai             
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: querynamesort.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
#######################################################################
#######################################################################    
  - name: mark-duplicates-001-1              
    inputs: 
      parameters:
      - name: sampleid 
      - name: laneid
      artifacts:
      - name: querynamesort-alignedreads-bam-001-1
        path: /tmp/querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
      - name:  querynamesort-alignedreads-bai-001-1
        path: /tmp/querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai        
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2 
      command: [bash, -c]  
      args: ["
      cd /tmp;    
       /usr/bin/java -Xms2g -Xmx4g -jar /usr/gitc/picard.jar MarkDuplicates 
       I=querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
       O=/tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
       M=/tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics VALIDATION_STRINGENCY=SILENT 
       ASSUME_SORTED=false 
       REMOVE_DUPLICATES=false 
       CREATE_INDEX=false CREATE_MD5_FILE=true 
       OPTICAL_DUPLICATE_PIXEL_DISTANCE=2500 TMP_DIR=`pwd`/tmp 2>/tmp/markduplicates.log;"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200               
    outputs:
      parameters:      
      - name: sampleid-001-1
        globalName: global-sampleid-001-1
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-1
        globalName: global-laneid-001-1
        valueFrom:
          path: /tmp/laneid
      artifacts:      
      - name: markduplicates-logfile-001-1
        globalName:  global-markduplicates-logfile-001-1      
        path: /tmp/markduplicates.log
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: markduplicates.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.markduplicates.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  markduplicates-bam-001-1
        globalName:  global-markduplicates-dedup-bam-001-1      
        path: /tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
        s3:
          endpoint: storage.googleapis.com
          bucket: test-argo-artifacts
          key: dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam         
          accesskeySecret:
            name: storage-credentials
            key: accesskey
          secretkeySecret:
            name: storage-credentials
            key: secretkey  
      - name:  markduplicates-metrics-001-1
        globalName:  global-markduplicates-metrics-001-1        
        path: /tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics
        s3:
          endpoint: storage.googleapis.com
          bucket: test-argo-artifacts
          key: dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics         
          accesskeySecret:
            name: storage-credentials
            key: accesskey
          secretkeySecret:
            name: storage-credentials
            key: secretkey  
#######################################################################
#######################################################################    
  - name: mark-duplicates-001-2              
    inputs: 
      parameters:
      - name: sampleid 
      - name: laneid
      artifacts:
      - name: querynamesort-alignedreads-bam-001-2
        path: /tmp/querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
      - name:  querynamesort-alignedreads-bai-001-2
        path: /tmp/querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai        
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2 
      command: [bash, -c]  
      args: ["
      cd /tmp;    
       /usr/bin/java -Xms2g -Xmx4g -jar /usr/gitc/picard.jar MarkDuplicates 
       I=querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
       O=/tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
       M=/tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics VALIDATION_STRINGENCY=SILENT 
       ASSUME_SORTED=false 
       REMOVE_DUPLICATES=false 
       CREATE_INDEX=false CREATE_MD5_FILE=true 
       OPTICAL_DUPLICATE_PIXEL_DISTANCE=2500 TMP_DIR=`pwd`/tmp 2>/tmp/markduplicates.log;"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200               
    outputs:
      parameters:      
      - name: sampleid-001-2
        globalName: global-sampleid-001-2
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-2
        globalName: global-laneid-001-2
        valueFrom:
          path: /tmp/laneid
      artifacts:      
      - name: markduplicates-logfile-001-2
        globalName:  global-markduplicates-logfile-001-2      
        path: /tmp/markduplicates.log
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: markduplicates.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.markduplicates.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  markduplicates-bam-001-2
        globalName:  global-markduplicates-dedup-bam-001-2      
        path: /tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
        s3:
          endpoint: storage.googleapis.com
          bucket: test-argo-artifacts
          key: dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam         
          accesskeySecret:
            name: storage-credentials
            key: accesskey
          secretkeySecret:
            name: storage-credentials
            key: secretkey  
      - name:  markduplicates-metrics-001-2
        globalName:  global-markduplicates-metrics-001-2        
        path: /tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics
        s3:
          endpoint: storage.googleapis.com
          bucket: test-argo-artifacts
          key: dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics         
          accesskeySecret:
            name: storage-credentials
            key: accesskey
          secretkeySecret:
            name: storage-credentials
            key: secretkey  
#######################################################################
#######################################################################    
  - name: mark-duplicates-001-3              
    inputs: 
      parameters:
      - name: sampleid 
      - name: laneid
      artifacts:
      - name: querynamesort-alignedreads-bam-001-3
        path: /tmp/querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
      - name:  querynamesort-alignedreads-bai-001-3
        path: /tmp/querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai        
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2 
      command: [bash, -c]  
      args: ["
      cd /tmp;    
       /usr/bin/java -Xms2g -Xmx4g -jar /usr/gitc/picard.jar MarkDuplicates 
       I=querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
       O=/tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
       M=/tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics VALIDATION_STRINGENCY=SILENT 
       ASSUME_SORTED=false 
       REMOVE_DUPLICATES=false 
       CREATE_INDEX=false CREATE_MD5_FILE=true 
       OPTICAL_DUPLICATE_PIXEL_DISTANCE=2500 TMP_DIR=`pwd`/tmp 2>/tmp/markduplicates.log;"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200               
    outputs:
      parameters:      
      - name: sampleid-001-3
        globalName: global-sampleid-001-3
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-3
        globalName: global-laneid-001-3
        valueFrom:
          path: /tmp/laneid
      artifacts:      
      - name: markduplicates-logfile-001-3
        globalName:  global-markduplicates-logfile-001-3      
        path: /tmp/markduplicates.log
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: markduplicates.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.markduplicates.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  markduplicates-bam-001-3
        globalName:  global-markduplicates-dedup-bam-001-3      
        path: /tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
        s3:
          endpoint: storage.googleapis.com
          bucket: test-argo-artifacts
          key: dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam         
          accesskeySecret:
            name: storage-credentials
            key: accesskey
          secretkeySecret:
            name: storage-credentials
            key: secretkey  
      - name:  markduplicates-metrics-001-3
        globalName:  global-markduplicates-metrics-001-3        
        path: /tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics
        s3:
          endpoint: storage.googleapis.com
          bucket: test-argo-artifacts
          key: dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics         
          accesskeySecret:
            name: storage-credentials
            key: accesskey
          secretkeySecret:
            name: storage-credentials
            key: secretkey  
#######################################################################
#######################################################################    
  - name: mark-duplicates-001-4              
    inputs: 
      parameters:
      - name: sampleid 
      - name: laneid
      artifacts:
      - name: querynamesort-alignedreads-bam-001-4
        path: /tmp/querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
      - name:  querynamesort-alignedreads-bai-001-4
        path: /tmp/querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai        
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2 
      command: [bash, -c]  
      args: ["
      cd /tmp;    
       /usr/bin/java -Xms2g -Xmx4g -jar /usr/gitc/picard.jar MarkDuplicates 
       I=querynamesorted.alignedreads.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
       O=/tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
       M=/tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics VALIDATION_STRINGENCY=SILENT 
       ASSUME_SORTED=false 
       REMOVE_DUPLICATES=false 
       CREATE_INDEX=false CREATE_MD5_FILE=true 
       OPTICAL_DUPLICATE_PIXEL_DISTANCE=2500 TMP_DIR=`pwd`/tmp 2>/tmp/markduplicates.log;"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200               
    outputs:
      parameters:      
      - name: sampleid-001-4
        globalName: global-sampleid-001-4
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-4
        globalName: global-laneid-001-4
        valueFrom:
          path: /tmp/laneid
      artifacts:      
      - name: markduplicates-logfile-001-4
        globalName:  global-markduplicates-logfile-001-4      
        path: /tmp/markduplicates.log
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: markduplicates.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.markduplicates.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  markduplicates-bam-001-4
        globalName:  global-markduplicates-dedup-bam-001-4      
        path: /tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
        s3:
          endpoint: storage.googleapis.com
          bucket: test-argo-artifacts
          key: dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam         
          accesskeySecret:
            name: storage-credentials
            key: accesskey
          secretkeySecret:
            name: storage-credentials
            key: secretkey  
      - name:  markduplicates-metrics-001-4
        globalName:  global-markduplicates-metrics-001-4        
        path: /tmp/dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics
        s3:
          endpoint: storage.googleapis.com
          bucket: test-argo-artifacts
          key: dedup.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.metrics         
          accesskeySecret:
            name: storage-credentials
            key: accesskey
          secretkeySecret:
            name: storage-credentials
            key: secretkey  
#######################################################################
#######################################################################
## Merge BAMs #########################################################
####################################################################### 
  - name: merge-bams-001-1              
    inputs: 
      parameters:
      - name: sampleid 
      - name: previousstepname
      artifacts:
      - name: markduplicates-bam-001-1     
        path: /tmp/markduplicates-bam-001-1.bam
      - name: markduplicates-bam-001-2
        path: /tmp/markduplicates-bam-001-2.bam
      - name: markduplicates-bam-001-3
        path: /tmp/markduplicates-bam-001-3.bam
      - name: markduplicates-bam-001-4
        path: /tmp/markduplicates-bam-001-4.bam
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]    
      args: ["
       /usr/bin/java -Xms2g -Xmx4g -jar /usr/gitc/picard.jar MergeSamFiles INPUT=/tmp/markduplicates-bam-001-1.bam   INPUT=/tmp/markduplicates-bam-001-2.bam   INPUT=/tmp/markduplicates-bam-001-3.bam   INPUT=/tmp/markduplicates-bam-001-4.bam   
       OUTPUT=/tmp/mergebams.{{inputs.parameters.sampleid}}.{{inputs.parameters.previousstepname}}.bam 
       CREATE_MD5_FILE=true TMP_DIR=`pwd`/tmp CREATE_INDEX=false >/tmp/mergebams.{{inputs.parameters.sampleid}}.{{inputs.parameters.previousstepname}}.log;"]
      resources:                 
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200           
    outputs:
      parameters:
      - name: sampleid-001-1 
        globalName: global-sampleid-001-1
        valueFrom:
          path: /tmp/sampleid
      artifacts:
      - name: mergebams-logfile-001-1
        globalName:   global-mergebams-markduplicates-bam-001-1          
        path: /tmp/mergebams.{{inputs.parameters.sampleid}}.{{inputs.parameters.previousstepname}}.log        
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: mergebams.{{inputs.parameters.sampleid}}.{{inputs.parameters.previousstepname}}.gatk.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey      
      - name:  mergebams-bam-001-1
        globalName:  global-mergebams-markduplicates-bam-001-1       
        path: /tmp/mergebams.{{inputs.parameters.sampleid}}.{{inputs.parameters.previousstepname}}.bam
        s3:
          endpoint: storage.googleapis.com
          bucket: test-argo-artifacts
          key: mergebams.{{inputs.parameters.sampleid}}.{{inputs.parameters.previousstepname}}.bam         
          accesskeySecret:
            name: storage-credentials
            key: accesskey
          secretkeySecret:
            name: storage-credentials
            key: secretkey
#######################################################################            
####################################################################### 
  - name: sort-by-coordinate-001-1              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid    
      artifacts:
      - name:  mergebams-bam-001-1
        path: /tmp/mergebams.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam
    retryStrategy:
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c] 
      args: ["
      /usr/bin/java -Xms1g -Xmx4g -jar /usr/gitc/picard.jar SortSam 
      INPUT=mergebams.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam OUTPUT=/tmp/coordinatesort.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam 
      SORT_ORDER=\"coordinate\" CREATE_MD5_FILE=true CREATE_INDEX=true TMP_DIR=`pwd`/tmp 2>/tmp/coordinatesort.log;"]
      resources:               
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200                
    outputs:
      parameters:
      - name: sampleid-001-1 
        globalName: global-sampleid-001-1
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-1 
        globalName: global-laneid-001-1
        valueFrom:
          path: /tmp/laneid     
      artifacts:
      - name: coordinatesort-logfile-001-1
        globalName:  global-coordinatesort-logfile-001-1      
        path: /tmp/coordinatesort.log
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: coordinatesort.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.coordinatesort.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  coordinatesort-bam-001-1
        globalName:  global-coordinatesort-alignedreads-bam-001-1       
        path: /tmp/coordinatesort.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam        
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: coordinatesort.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
      - name:  coordinatesort-bai-001-1
        globalName:  global-coordinatesort-alignedreads-bai-001-1        
        path: /tmp/coordinatesort.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai             
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: coordinatesort.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.bai          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey 
#######################################################################
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval1              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval1 
        globalName: global-sampleid-001-Interval1
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval1 
        globalName: global-laneid-001-Interval1
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval1
        globalName:  global-bqsr-logfile-001-Interval1       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval1
        globalName:  global-bqsr-recalibration-report-001-Interval1      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval1                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval1 
        globalName: global-sampleid-001-Interval1
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval1
        globalName:  global-applybqsr-logfile-001-Interval1       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval1
        globalName:  global-applybqsr-bam-001-Interval1       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval2              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval2 
        globalName: global-sampleid-001-Interval2
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval2 
        globalName: global-laneid-001-Interval2
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval2
        globalName:  global-bqsr-logfile-001-Interval2       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval2
        globalName:  global-bqsr-recalibration-report-001-Interval2      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval2                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval2 
        globalName: global-sampleid-001-Interval2
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval2
        globalName:  global-applybqsr-logfile-001-Interval2       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval2
        globalName:  global-applybqsr-bam-001-Interval2       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval3              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval3 
        globalName: global-sampleid-001-Interval3
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval3 
        globalName: global-laneid-001-Interval3
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval3
        globalName:  global-bqsr-logfile-001-Interval3       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval3
        globalName:  global-bqsr-recalibration-report-001-Interval3      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval3                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval3 
        globalName: global-sampleid-001-Interval3
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval3
        globalName:  global-applybqsr-logfile-001-Interval3       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval3
        globalName:  global-applybqsr-bam-001-Interval3       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval4              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval4 
        globalName: global-sampleid-001-Interval4
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval4 
        globalName: global-laneid-001-Interval4
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval4
        globalName:  global-bqsr-logfile-001-Interval4       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval4
        globalName:  global-bqsr-recalibration-report-001-Interval4      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval4                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval4 
        globalName: global-sampleid-001-Interval4
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval4
        globalName:  global-applybqsr-logfile-001-Interval4       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval4
        globalName:  global-applybqsr-bam-001-Interval4       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval5              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval5 
        globalName: global-sampleid-001-Interval5
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval5 
        globalName: global-laneid-001-Interval5
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval5
        globalName:  global-bqsr-logfile-001-Interval5       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval5
        globalName:  global-bqsr-recalibration-report-001-Interval5      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval5                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval5 
        globalName: global-sampleid-001-Interval5
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval5
        globalName:  global-applybqsr-logfile-001-Interval5       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval5
        globalName:  global-applybqsr-bam-001-Interval5       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval6              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval6 
        globalName: global-sampleid-001-Interval6
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval6 
        globalName: global-laneid-001-Interval6
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval6
        globalName:  global-bqsr-logfile-001-Interval6       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval6
        globalName:  global-bqsr-recalibration-report-001-Interval6      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval6                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval6 
        globalName: global-sampleid-001-Interval6
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval6
        globalName:  global-applybqsr-logfile-001-Interval6       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval6
        globalName:  global-applybqsr-bam-001-Interval6       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval7              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval7 
        globalName: global-sampleid-001-Interval7
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval7 
        globalName: global-laneid-001-Interval7
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval7
        globalName:  global-bqsr-logfile-001-Interval7       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval7
        globalName:  global-bqsr-recalibration-report-001-Interval7      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval7                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval7 
        globalName: global-sampleid-001-Interval7
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval7
        globalName:  global-applybqsr-logfile-001-Interval7       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval7
        globalName:  global-applybqsr-bam-001-Interval7       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval8              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval8 
        globalName: global-sampleid-001-Interval8
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval8 
        globalName: global-laneid-001-Interval8
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval8
        globalName:  global-bqsr-logfile-001-Interval8       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval8
        globalName:  global-bqsr-recalibration-report-001-Interval8      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval8                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval8 
        globalName: global-sampleid-001-Interval8
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval8
        globalName:  global-applybqsr-logfile-001-Interval8       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval8
        globalName:  global-applybqsr-bam-001-Interval8       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval9              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval9 
        globalName: global-sampleid-001-Interval9
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval9 
        globalName: global-laneid-001-Interval9
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval9
        globalName:  global-bqsr-logfile-001-Interval9       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval9
        globalName:  global-bqsr-recalibration-report-001-Interval9      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval9                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval9 
        globalName: global-sampleid-001-Interval9
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval9
        globalName:  global-applybqsr-logfile-001-Interval9       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval9
        globalName:  global-applybqsr-bam-001-Interval9       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval10              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval10 
        globalName: global-sampleid-001-Interval10
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval10 
        globalName: global-laneid-001-Interval10
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval10
        globalName:  global-bqsr-logfile-001-Interval10       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval10
        globalName:  global-bqsr-recalibration-report-001-Interval10      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval10                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval10 
        globalName: global-sampleid-001-Interval10
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval10
        globalName:  global-applybqsr-logfile-001-Interval10       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval10
        globalName:  global-applybqsr-bam-001-Interval10       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval11              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval11 
        globalName: global-sampleid-001-Interval11
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval11 
        globalName: global-laneid-001-Interval11
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval11
        globalName:  global-bqsr-logfile-001-Interval11       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval11
        globalName:  global-bqsr-recalibration-report-001-Interval11      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval11                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval11 
        globalName: global-sampleid-001-Interval11
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval11
        globalName:  global-applybqsr-logfile-001-Interval11       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval11
        globalName:  global-applybqsr-bam-001-Interval11       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval12              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval12 
        globalName: global-sampleid-001-Interval12
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval12 
        globalName: global-laneid-001-Interval12
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval12
        globalName:  global-bqsr-logfile-001-Interval12       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval12
        globalName:  global-bqsr-recalibration-report-001-Interval12      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval12                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval12 
        globalName: global-sampleid-001-Interval12
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval12
        globalName:  global-applybqsr-logfile-001-Interval12       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval12
        globalName:  global-applybqsr-bam-001-Interval12       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
#### Base Recalibration ###############################################
#######################################################################     
  - name: base-recalibration-001-Interval13              
    inputs: 
      parameters:
      - name: sampleid
      - name: laneid     
      - name: intervalnumber 
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: dbsnp
        path: /tmp/dbSNP.vcf.gz
      - name: dbsnp-tbi
        path: /tmp/dbSNP.vcf.gz.tbi
      - name: gold-standard-indels-vcf
        path: /tmp/gold_standard.indels.vcf 
      - name: gold-standard-indels-vcf-idx
        path: /tmp/gold_standard.indels.vcf.idx         
      - name: intervalslist
        path: /tmp/intervals.interval_list 
#######################################################################
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bai;
      /usr/bin/java -Xms4G -Xmx6G -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T BaseRecalibrator -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam 
      -o /tmp/recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table 
      -L intervals.interval_list
      -knownSites /tmp/gold_standard.indels.vcf 2>/tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs: 
      parameters:
      - name: sampleid-001-Interval13 
        globalName: global-sampleid-001-Interval13
        valueFrom:
          path: /tmp/sampleid
      - name: laneid-001-Interval13 
        globalName: global-laneid-001-Interval13
        valueFrom:
          path: /tmp/laneid      
      artifacts:
      - name: bqsr-logfile-001-Interval13
        globalName:  global-bqsr-logfile-001-Interval13       
        path: /tmp/bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey        
      - name:  bqsr-recalibration-report-001-Interval13
        globalName:  global-bqsr-recalibration-report-001-Interval13      
        path: /tmp/bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: bqsr.recalibration.{{inputs.parameters.sampleid}}.{{inputs.parameters.laneid}}.{{inputs.parameters.intervalnumber}}.table          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey           
#######################################################################           
#######################################################################
#### Apply Base Recalibration #########################################
  - name: apply-bqsr-001-Interval13                                             
    inputs: 
      parameters:
      - name: sampleid 
      - name: intervalnumber
      artifacts:
      - name: coordinatesort-bam
        path: /tmp/coordinatesort.bam 
      - name: reference-files-sa
        path: /tmp/reference.fasta.sa                                
      - name: reference-files-amb
        path: /tmp/reference.fasta.amb
      - name: reference-files-ann
        path: /tmp/reference.fasta.ann      
      - name: reference-files-bwt
        path: /tmp/reference.fasta.bwt      
      - name: reference-files-dict
        path: /tmp/reference.dict          
      - name: reference-files-pac
        path: /tmp/reference.fasta.pac      
      - name: reference-files-fasta
        path: /tmp/reference.fasta
      - name: reference-files-fai
        path: /tmp/reference.fasta.fai 
      - name: recalibration-report
        path: /tmp/recalibration.table
    retryStrategy: 
      limit: 10
    container:
      image: vandhanak/broadcloudgatk36gatk37-cgs:0.2  
      command: [bash, -c]  
      args: ["
      cd /tmp;
      /usr/local/bin/samtools index -b /tmp/coordinatesort.bam 
      /tmp/coordinatesort.bam.bai;
      /usr/bin/java -XX:GCTimeLimit=50 -XX:GCHeapFreeLimit=10 -XX:+PrintFlagsFinal 
      -XX:+PrintGCTimeStamps -XX:+PrintGCDateStamps -XX:+PrintGCDetails 
      -Xloggc:gc_log.log -Dsamjdk.use_async_io=false 
      -Xms2g -Xmx4g -jar /usr/gitc/gatk37/GenomeAnalysisTK.jar 
      -T PrintReads -R /tmp/reference.fasta 
      -I /tmp/coordinatesort.bam -o /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam 
      --BQSR /tmp/recalibration.table 2>/tmp/applybqsr.log"]
      resources:                
        limits:
          memory : 8000Mi  
          cpu: 10
        requests:
          memory: 2000Mi 
          cpu: 4
    activeDeadlineSeconds: 7200
    outputs:
      parameters:
      - name: sampleid-001-Interval13 
        globalName: global-sampleid-001-Interval13
        valueFrom:
          path: /tmp/sampleid   
      artifacts:
      - name: applybqsr-logfile-001-Interval13
        globalName:  global-applybqsr-logfile-001-Interval13       
        path: /tmp/applybqsr.log   
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.log          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey              
      - name:  applybqsr-bam-001-Interval13
        globalName:  global-applybqsr-bam-001-Interval13       
        path: /tmp/applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam
        s3:
         endpoint: storage.googleapis.com
         bucket: test-argo-artifacts
         key: applybqsr.{{inputs.parameters.sampleid}}.{{inputs.parameters.intervalnumber}}.bam          
         accessKeySecret:
          name: storage-credentials
          key: accesskey
         secretKeySecret:
          name: storage-credentials
          key: secretkey         
#######################################################################           
#######################################################################
  - name: argo-dynamically-generated-workflow-hardcodedartifacts
    steps:
#######################################################################   
#######################################################################
      - - name: bwamem-001-1
          template: bwa-mem-001-1
          arguments:  
           parameters:
           - name: sampleid
             value:  "001"
           - name: laneid
             value:  "1"
           - name: gender
             value: "M"  
           artifacts:
           - name: fastq1
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  SP11.fq         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey  
           - name: fastq2         
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  SP12.fq           
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
####################################################################### 
#######################################################################
      - - name: bwamem-001-2
          template: bwa-mem-001-2
          arguments:  
           parameters:
           - name: sampleid
             value:  "001"
           - name: laneid
             value:  "2"
           - name: gender
             value: "M"  
           artifacts:
           - name: fastq1
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  SP21.fq         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey  
           - name: fastq2         
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  SP22.fq           
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
####################################################################### 
#######################################################################
      - - name: bwamem-001-3
          template: bwa-mem-001-3
          arguments:  
           parameters:
           - name: sampleid
             value:  "001"
           - name: laneid
             value:  "3"
           - name: gender
             value: "M"  
           artifacts:
           - name: fastq1
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  SP31.fq         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey  
           - name: fastq2         
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  SP32.fq           
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
####################################################################### 
#######################################################################
      - - name: bwamem-001-4
          template: bwa-mem-001-4
          arguments:  
           parameters:
           - name: sampleid
             value:  "001"
           - name: laneid
             value:  "4"
           - name: gender
             value: "M"  
           artifacts:
           - name: fastq1
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  SP41.fq         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey  
           - name: fastq2         
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  SP42.fq           
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
####################################################################### 
#######################################################################
      - - name: sortbyqueryname-querynamesort-001-1
          template: sort-by-queryname-001-1       
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"           
           - name: laneid
             value:  "1"
           artifacts:
           - name:  bwamem-alignedreads-bam-001-1
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: alignedreads.001.1.bam
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name:  bwamem-alignedreads-bai-001-1
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: alignedreads.001.1.bai      
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
      - - name: sortbyqueryname-querynamesort-001-2
          template: sort-by-queryname-001-2       
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"           
           - name: laneid
             value:  "2"
           artifacts:
           - name:  bwamem-alignedreads-bam-001-2
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: alignedreads.001.2.bam
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name:  bwamem-alignedreads-bai-001-2
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: alignedreads.001.2.bai      
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
      - - name: sortbyqueryname-querynamesort-001-3
          template: sort-by-queryname-001-3       
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"           
           - name: laneid
             value:  "3"
           artifacts:
           - name:  bwamem-alignedreads-bam-001-3
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: alignedreads.001.3.bam
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name:  bwamem-alignedreads-bai-001-3
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: alignedreads.001.3.bai      
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
      - - name: sortbyqueryname-querynamesort-001-4
          template: sort-by-queryname-001-4       
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"           
           - name: laneid
             value:  "4"
           artifacts:
           - name:  bwamem-alignedreads-bam-001-4
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: alignedreads.001.4.bam
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name:  bwamem-alignedreads-bai-001-4
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: alignedreads.001.4.bai      
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
## Mark Duplicates ####################################################
#######################################################################
      - - name: markduplicates-001-1  
          template: mark-duplicates-001-1         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"           
           - name: laneid
             value:  "1"                 
           artifacts:    
           - name:  querynamesort-alignedreads-bam-001-1
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: querynamesort.alignedreads.001.1.bam         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name:  querynamesort-alignedreads-bai-001-1
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: querynamesort.alignedreads.001.1.bai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
## Mark Duplicates ####################################################
#######################################################################
      - - name: markduplicates-001-2  
          template: mark-duplicates-001-2         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"           
           - name: laneid
             value:  "2"                 
           artifacts:    
           - name:  querynamesort-alignedreads-bam-001-2
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: querynamesort.alignedreads.001.2.bam         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name:  querynamesort-alignedreads-bai-001-2
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: querynamesort.alignedreads.001.2.bai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
## Mark Duplicates ####################################################
#######################################################################
      - - name: markduplicates-001-3  
          template: mark-duplicates-001-3         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"           
           - name: laneid
             value:  "3"                 
           artifacts:    
           - name:  querynamesort-alignedreads-bam-001-3
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: querynamesort.alignedreads.001.3.bam         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name:  querynamesort-alignedreads-bai-001-3
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: querynamesort.alignedreads.001.3.bai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
## Mark Duplicates ####################################################
#######################################################################
      - - name: markduplicates-001-4  
          template: mark-duplicates-001-4         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"           
           - name: laneid
             value:  "4"                 
           artifacts:    
           - name:  querynamesort-alignedreads-bam-001-4
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: querynamesort.alignedreads.001.4.bam         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name:  querynamesort-alignedreads-bai-001-4
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: querynamesort.alignedreads.001.4.bai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
####################################################################### 
### Merge deduped BAMs, to get a single BAM file before coordinate sorting ##
#######################################################################
      - - name: mergebams-001-1 
          template: merge-bams-001-1      
          arguments:
           parameters: 
           - name: sampleid
             value:  "001" 
           - name: previousstepname
             value: "aligned-deduped-per-lane"                              
           artifacts:       
           - name: markduplicates-bam-001-1 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: dedup.001.1.bam        
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: markduplicates-bam-001-2 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: dedup.001.1.bam        
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: markduplicates-bam-001-3 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: dedup.001.1.bam        
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: markduplicates-bam-001-4 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: dedup.001.1.bam        
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reads-bam-lane2 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: dedup.001.002.bam        
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################               
#######################################################################
      - - name: sortbycoordinate-coordinatesort-001-1
          template: sort-by-coordinate-001-1       
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"           
           - name: laneid
             value:  "1"
           artifacts:
           - name:  mergebams-bam-001-1
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: mergebams.001.1.markduplicates.bam
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
#######################################################################
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval1
          template:  base-recalibration-001-Interval1         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval1"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus10bp_allcontigs.interval_list           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval1 
          template:  apply-bqsr-001-Interval1        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval1"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval1.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval2
          template:  base-recalibration-001-Interval2         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval2"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus20bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval2 
          template:  apply-bqsr-001-Interval2        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval2"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval2.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval3
          template:  base-recalibration-001-Interval3         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval3"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus30bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval3 
          template:  apply-bqsr-001-Interval3        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval3"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval3.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval4
          template:  base-recalibration-001-Interval4         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval4"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus40bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval4 
          template:  apply-bqsr-001-Interval4        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval4"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval4.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval5
          template:  base-recalibration-001-Interval5         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval5"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus50bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval5 
          template:  apply-bqsr-001-Interval5        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval5"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval5.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval6
          template:  base-recalibration-001-Interval6         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval6"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus60bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval6 
          template:  apply-bqsr-001-Interval6        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval6"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval6.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval7
          template:  base-recalibration-001-Interval7         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval7"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus70bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval7 
          template:  apply-bqsr-001-Interval7        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval7"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval7.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval8
          template:  base-recalibration-001-Interval8         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval8"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus80bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval8 
          template:  apply-bqsr-001-Interval8        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval8"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval8.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval9
          template:  base-recalibration-001-Interval9         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval9"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus90bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval9 
          template:  apply-bqsr-001-Interval9        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval9"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval9.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval10
          template:  base-recalibration-001-Interval10         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval10"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus100bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval10 
          template:  apply-bqsr-001-Interval10        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval10"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval10.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval11
          template:  base-recalibration-001-Interval11         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval11"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus110bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval11 
          template:  apply-bqsr-001-Interval11        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval11"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval11.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval12
          template:  base-recalibration-001-Interval12         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval12"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus120bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval12 
          template:  apply-bqsr-001-Interval12        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval12"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval12.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
##### BQSR on this coordinate sorted merged BAM with RG Added #########
#######################################################################     
#######################################################################  
      - - name:  baserecalibration-001-Interval13
          template:  base-recalibration-001-Interval13         
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"    
           - name: laneid
             value:  "1"  
           - name: intervalnumber
             value:  "Interval13"                
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey          
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: dbsnp-tbi
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/dbSNP.b151.GRCh37p13.All_2018.vcf.gz.tbi           
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: gold-standard-indels-vcf-idx
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/Mills_and_1000G_gold_standard.indels.vcf.tbi          
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
           - name: intervalslist
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: tmp/cgs_exome_ace3_plusminus130bp_allcontigs.interval_list            
              accesskeySecret:
               name: storage-credentials
               key: accesskey
              secretkeySecret:
               name: storage-credentials
               key: secretkey
#######################################################################
#######################################################################
##### ApplyBQSR on this coordinate sorted merged BAM with RG Added ####
#######################################################################     
#######################################################################  
      - - name:  applybqsr-001-Interval13 
          template:  apply-bqsr-001-Interval13        
          arguments:
           parameters: 
           - name: sampleid
             value:  "001"
           - name: intervalnumber
             value:  "Interval13"                    
           artifacts:       
           - name: coordinatesort-bam
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: coordinatesort.001.1.bam          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: recalibration-report
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key: bqsr.recalibration.001.1.Interval13.table          
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey            
           - name: reference-files-sa 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.sa         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey                                                   
           - name: reference-files-pac 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.pac         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fai 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.fai         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey               
           - name: reference-files-bwt 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.bwt         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-ann 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.ann         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-amb 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta.amb         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-fasta 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.fasta         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
           - name: reference-files-dict 
             s3:
              endpoint: storage.googleapis.com
              bucket: test-argo-artifacts
              key:  tmp/chr21/human_g1k_v37_decoy.21.dict         
              accessKeySecret:
               name: storage-credentials
               key: accesskey
              secretKeySecret:
               name: storage-credentials
               key: secretkey
